<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.nexg.esm.administrator.mapper.AdministratorMapper">

	<select id="getUserInfo" parameterType="kr.nexg.esm.administrator.dto.AdministratorVo" resultType="map">
		/* AdministratorMapper.getUserInfo */	
		CALL sesm.getUserInfo( #{adminID} );
	</select>
	
	<select id="getUser" parameterType="kr.nexg.esm.administrator.dto.AdministratorVo" resultType="map">
		/* AdministratorMapper.getUser */	
		CALL sesm.getUser( #{sessionId}, #{search}, (#{page}-1)*#{limit}, #{limit} );
	</select>
	
	<delete id="delUser" parameterType="String">
		/* AdministratorMapper.delUser */	
		CALL sesm.delUser( #{adminIds} );
	</delete>
	
	<select id="selectAdminGroup" parameterType="String" resultType="map">
		/* AdministratorMapper.selectAdminGroup */	
		SELECT login, group_id FROM user WHERE group_id = #{adminGroupID}
	</select>
	
	<select id="selectUserGroup" parameterType="kr.nexg.esm.administrator.dto.AdministratorVo" resultType="map">
		/* AdministratorMapper.selectUserGroup */	
		SELECT login, group_id FROM user WHERE group_id in 
		<foreach collection="adminGroupIDs" item="item" open="(" close=")" separator=",">
	        #{item}
	    </foreach>
	</select>
	
	<delete id="delUserGroup" parameterType="String">
		/* AdministratorMapper.delUserGroup */	
		CALL sesm.delUserGroup( #{adminGroupIds} );
	</delete>
	
	<select id="selectDeviceGroup" parameterType="kr.nexg.esm.administrator.dto.AdministratorVo" resultType="map">
		/* AdministratorMapper.selectDeviceGroup */	
		SELECT * FROM device_group WHERE id in
		<foreach collection="deviceGroupIDs" item="item" open="(" close=")" separator=",">
	        #{item}
	    </foreach>
	</select>

</mapper>