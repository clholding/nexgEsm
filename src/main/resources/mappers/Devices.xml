<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.nexg.esm.devices.mapper.DevicesMapper">

	<select id="getDeviceGroupByLogin" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.getDeviceGroupByLogin */	
		CALL sesm.getDeviceGroupByLogin( #{sessionId}, #{mode} );
	</select>
	<select id="getDeviceListByLogin" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.getDeviceListByLogin */	
		CALL sesm.getDeviceListByLogin( #{sessionId}, '2', #{mode} );
	</select>
	<select id="getDeviceGroup" resultType="map">
		/* DevicesMapper.getDeviceGroup */	
		CALL sesm.getDeviceGroup();
	</select>
	<select id="getDeviceList" resultType="map">
		/* DevicesMapper.getDeviceList */	
		CALL sesm.getDeviceList(2);
	</select>
	
	
	<select id="getDeviceInfoList" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.getDeviceInfoList */	
		CALL sesm.getDeviceInfoList( #{deviceIDs} );
	</select>
	
	<select id="getDeviceGroupInfo" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.getDeviceGroupInfo */	
		CALL sesm.getDeviceGroupInfo( #{sessionId} );
	</select>
	
	<select id="getDeviceInfo" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.getDeviceInfo */	
		CALL sesm.getDeviceInfo( #{sessionId} );
	</select>
	
	<select id="getProductList" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.getProductList */	
		CALL sesm.getProductList( #{type} );
	</select>
	
	<select id="getDeviceFailInfo" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.getDeviceFailInfo */	
		Call sesm.getDeviceFailInfo( #{failID} );
	</select>
	
	<select id="getGroupToDeviceListByLogin" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="String">
		/* DevicesMapper.getGroupToDeviceListByLogin */	
		Call sesm.getGroupToDeviceListByLogin( #{groupID}, #{sessionId}, #{mode} );
	</select>
	
	<select id="searchDeviceInfoList" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.searchDeviceInfoList */	
		Call sesm.searchDeviceInfoList( #{deviceIDs}, #{productId}, #{dname}, #{gname}, #{ip}, #{serial}, #{os}, #{agent}, #{desc}, #{company}, #{phone1}, #{fax}, #{zip}, #{address}, #{customer}, #{phone2}, #{email}, #{page}, #{viewCount} );
	</select>
	
	<select id="deviceGroupCnt" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="int">
		/* DevicesMapper.deviceGroupCnt */	
		SELECT count(1) cnt FROM device_group WHERE name = #{name}
	</select>
	
	<select id="setDeviceGroupInfo" parameterType="kr.nexg.esm.devices.dto.DevicesVo" resultType="map">
		/* DevicesMapper.setDeviceGroupInfo */	
		Call sesm.setDeviceGroupInfo( #{groupID}, #{name}, #{desc}, #{gp}, #{sessionId}, #{code1}, #{code2}, #{company}, #{customer}, #{email}, #{zip}, #{address}, #{phone1}, #{phone2}, #{fax}, #{memo1}, #{memo2} );
	</select>
	
	<update id="setFailMemo" parameterType="kr.nexg.esm.devices.dto.DevicesVo">
		/* DevicesMapper.setFailMemo */	
		Call sesm.setFailMemo( #{failID}, #{type}, #{sessionId}, #{memo} );
	</update>

</mapper>